# 課題2: バックエンドのAPIを作成してみる

## 目標

- 指定したGETリクエスト、POSTリクエストを送ったときの返却値が正しくなるように実装する
- 【応用】一部処理をcontextに寄せ、テスト駆動で開発する

## 課題詳細

- http://localhost:3202/api/drinks にアクセスしたとき、次のようなレスポンスを返却するよう、`api/drinks/index.php`を実装してください

```json
{
  "1": {
    "name": "\u30b3\u30fc\u30e9", // コーラのこと
    "price": 120
  },
  "2": {
    "name": "\u304a\u8336", // お茶のこと
    "price": 150
  }
}
```

### ヒント

上記のレスポンスの形式は**JSON**と呼ばれています。

データベースには次のようなデータが格納されています。PHPでは、[json_encode](https://www.php.net/manual/ja/function.json-encode.php)という関数を利用して、JSONの形式となる文字列を生成してくれます。

+----+-----------+-------+
| id | name      | price |
+----+-----------+-------+
|  1 | コーラ     |   120 |
|  2 | お茶       |   150 |
+----+-----------+-------+

またAPIの実装についてわからなくなったら、まずは `/api/sample/` に対する各リクエストを思い出しましょう。もちろんメンターに相談しても構いません。

## 応用

- 詳細情報(1つの飲み物だけの情報)取得用のAPI、削除用のAPIを作成してみましょう
- 今回作成した処理の一部を`context`配下に寄せてみましょう。また`context`配下に置いたメソッドの単体テストを書いてみましょう
  - **namespaceなどの説明が省かれているため難しいです。時間があれば見よう見まねで試してみたり、PHPの本を読んでみたりしながら取り組んでください。**s

### ヒント

詳細情報取得用のAPIは`/api/drinks/detail.php`、削除用のAPIは`/api/drinks/delete.php`をそれぞれ新規作成します。

またこのタイミングで初期データの復活や変更を行いたい場合があると思います。リポジトリ直下の[README](/README.md)の「データベースを初期化したい」を参照してみてください。

